import React from 'react';
import { VulnerabilityCard } from './VulnerabilityCard';
import { useNavigate } from 'react-router-dom';

const vulnerabilities = [
  {
    id: 'sqli',
    title: 'SQLi',
    description: 'Exploits insecure database queries by inserting malicious SQL commands, enabling data theft, alteration, or deletion.',
    details: 'SQL Injection is one of the most common web application vulnerabilities. It occurs when user input is not properly sanitized before being used in SQL queries.'
  },
  {
    id: 'nosqli',
    title: 'NoSQLi',
    description: 'Manipulates NoSQL queries to bypass authentication or extract sensitive data from databases like MongoDB.',
    details: 'NoSQL Injection attacks target NoSQL databases by manipulating queries to bypass authentication or extract data.'
  },
  {
    id: 'xss',
    title: 'XSS',
    description: 'Cross-Site Scripting allows attackers to inject malicious scripts into web pages viewed by other users.',
    details: 'XSS vulnerabilities occur when applications include untrusted data in web pages without proper validation or escaping.'
  },
  {
    id: 'idor',
    title: 'IDOR',
    description: 'Insecure Direct Object References allow attackers to access unauthorized data by manipulating object references.',
    details: 'IDOR vulnerabilities occur when applications provide direct access to objects based on user-supplied input.'
  },
  {
    id: 'dom-clobbering',
    title: 'Dom Clobbering',
    description: 'Exploits the way browsers handle HTML elements to override JavaScript variables and functions.',
    details: 'DOM Clobbering attacks manipulate the DOM to interfere with JavaScript execution and application logic.'
  },
  {
    id: 'css-injection',
    title: 'CSS Injection',
    description: 'Injects malicious CSS code to steal data or manipulate page appearance and behavior.',
    details: 'CSS Injection can be used to extract sensitive information or modify the visual presentation of web pages.'
  },
  {
    id: 'csp-bypass',
    title: 'CSP Bypass',
    description: 'Circumvents Content Security Policy protections to execute unauthorized scripts or load malicious content.',
    details: 'CSP Bypass techniques exploit weaknesses in Content Security Policy implementations to execute attacks.'
  },
  {
    id: 'clickjacking',
    title: 'Clickjacking',
    description: 'Tricks users into clicking on hidden elements by overlaying transparent frames over legitimate content.',
    details: 'Clickjacking attacks use invisible iframes to trick users into performing unintended actions.'
  },
  {
    id: 'cdn-tampering',
    title: 'CDN Tampering',
    description: 'Compromises Content Delivery Networks to inject malicious code into websites using the CDN.',
    details: 'CDN Tampering involves compromising third-party content delivery networks to distribute malicious content.'
  }
];

export const VulnerabilityGrid = () => {
  const navigate = useNavigate();

  const handleVulnerabilityClick = (vulnerability) => {
    navigate(`/${vulnerability.id}`);
  };

  return (
    <section className="relative w-full max-w-[1247px] mx-auto px-6">
      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 mt-10 place-items-center">
        {vulnerabilities.slice(0, 5).map((vulnerability) => (
          <VulnerabilityCard
            key={vulnerability.id}
            title={vulnerability.title}
            description={vulnerability.description}
            variant="top"
            onClick={() => handleVulnerabilityClick(vulnerability)}
            className="w-[200px] h-[180px]"
          />
        ))}
      </div>

      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-8 place-items-center max-w-[961px] mx-auto">
        {vulnerabilities.slice(5).map((vulnerability) => (
          <VulnerabilityCard
            key={vulnerability.id}
            title={vulnerability.title}
            description={vulnerability.description}
            variant="bottom"
            onClick={() => handleVulnerabilityClick(vulnerability)}
            className="w-[200px] h-[180px]"
          />
        ))}
      </div>

      {/* Removed modal in favor of direct navigation */}
    </section>
  );
};

export default VulnerabilityGrid;
